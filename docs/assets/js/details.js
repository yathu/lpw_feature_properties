$(document).ready(()=>{var l=new Intl.NumberFormat("en-US",{style:"currency",currency:"LKR",currencyDisplay:"symbol",minimumFractionDigits:0}),s=($(".dropdown-toggle").dropdown(),$(".banner-img-container #love").on("click",function(){$(this).toggleClass("active")}),$("#contactNum").on("click",function(){$("#showEnquireNum").trigger("click")}),$(".floorViewOption").change(function(){var e=$(this).attr("name");"3d"==$("input[name="+e+"]:checked").val()?($(this).closest(".image-container").find(".img-2d").addClass("d-none"),$(this).closest(".image-container").find(".img-3d").removeClass("d-none")):($(this).closest(".image-container").find(".img-2d").removeClass("d-none"),$(this).closest(".image-container").find(".img-3d").addClass("d-none"))}),new Swiper(".detailsMenuSwiper",{slidesPerView:"auto",spaceBetween:20}));$(".showAbout").on("click",()=>{$(".about-container>div").toggleClass("hide-text")}),$(".showFeatures").on("click",()=>{$(".features-container").toggleClass("show-less")}),new Swiper(".payment-plan-swiper",{loop:!1,navigation:{nextEl:".payment-next",prevEl:".payment-prev"},slidesPerView:4,spaceBetween:10,breakpoints:{320:{slidesPerView:3.5},576:{slidesPerView:4.5},768:{slidesPerView:5},992:{slidesPerView:5}}}),new Swiper(".land-payment-plan-swiper",{loop:!0,navigation:{nextEl:".land-payment1-next",prevEl:".land-payment1-prev"},slidesPerView:4,spaceBetween:10,breakpoints:{320:{slidesPerView:3.5},576:{slidesPerView:4.5},768:{slidesPerView:5},992:{slidesPerView:5}}}),new Swiper(".land-payment-plan-swiper2",{loop:!0,navigation:{nextEl:".land-payment2-next",prevEl:".land-payment2-prev"},slidesPerView:4,spaceBetween:10,breakpoints:{320:{slidesPerView:3.5},576:{slidesPerView:4.5},768:{slidesPerView:5},992:{slidesPerView:5}}}),new Swiper(".land-payment-plan-swiper3",{loop:!0,navigation:{nextEl:".land-payment3-next",prevEl:".land-payment3-prev"},slidesPerView:4,spaceBetween:10,breakpoints:{320:{slidesPerView:3.5},576:{slidesPerView:4.5},768:{slidesPerView:5},992:{slidesPerView:5}}}),new Swiper(".videos-menu-swiper",{loop:!1,navigation:{nextEl:".video-prev",prevEl:".video-next"},slidesPerView:4,spaceBetween:10,breakpoints:{320:{slidesPerView:3.5},576:{slidesPerView:4.5},768:{slidesPerView:5},992:{slidesPerView:5}}}),new Swiper(".loan-swiper",{loop:!1,navigation:{nextEl:".loan-next",prevEl:".loan-prev"},slidesPerView:4,spaceBetween:10,breakpoints:{320:{slidesPerView:2.5},576:{slidesPerView:3.5},768:{slidesPerView:4.5},992:{slidesPerView:4.5}}}),new Swiper(".videos-menu-swiper",{loop:!1,slidesPerView:"auto",spaceBetween:10,navigation:{nextEl:".video-next",prevEl:".video-prev"}}),new Swiper(".other-project-swiper",{loop:!1,navigation:{nextEl:".other-project-next",prevEl:".other-project-prev"},slidesPerView:3,spaceBetween:10,breakpoints:{320:{slidesPerView:1.5},576:{slidesPerView:2.5},768:{slidesPerView:2.5},992:{slidesPerView:2.5},1200:{slidesPerView:3.5}}}),new Swiper(".mapview-swiper",{loop:!1,slidesPerView:4.5,navigation:{nextEl:".mapView-next",prevEl:".mapView-prev"},spaceBetween:10,breakpoints:{320:{slidesPerView:2.5},375:{slidesPerView:3.2},450:{slidesPerView:3.5},485:{slidesPerView:4.2},576:{slidesPerView:4.5},768:{slidesPerView:5.5},992:{slidesPerView:5.5},1200:{slidesPerView:6.5},1440:{slidesPerView:7.5}}}),new Swiper(".locality-swiper",{loop:!0,slidesPerView:"auto",navigation:{nextEl:".locality-next",prevEl:".locality-prev"},spaceBetween:15}),new Swiper(".land-highlight-swiper",{loop:!0,slidesPerView:"auto",navigation:{nextEl:".highlight-next",prevEl:".highlight-prev"},spaceBetween:15});var t=(k=document.getElementById("propertyRateChart").getContext("2d")).createLinearGradient(0,0,0,400),n=(t.addColorStop(0,"rgba(251,183,87,0.50)"),t.addColorStop(1,"rgba(255,212,78,0.00)"),{labels:["Jan 1","Jan 3","Jan 5","Jan 7","Jan 9","Jan 11","Jan 13","Jan 15"],data:[950,1220,1340,1450,1320,1220,1390,1560]}),a={labels:["Jan 1","Jan 2","Jan 4","Jan 7","Jan 10","Jan 11","Jan 13","Jan 16"],data:[850,1120,750,1050,1320,1220,1390,1560]},i=new Chart(k,{type:"line",data:{labels:n.labels,datasets:[{label:"Price range",data:n.data,tension:.3,fill:!0,backgroundColor:t,borderColor:"#ECA743"}]},options:{responsive:!0,maintainAspectRatio:!1}}),o=($("input[name=chartType]").change(function(){var e="rent"==$("input[name=chartType]:checked").val()?a:n;i.data.labels=e.labels,i.data.datasets.pop(),i.data.datasets.push({label:"Price range",data:e.data,tension:.3,fill:!0,backgroundColor:t,borderColor:"#ECA743"}),i.update()}),new Swiper(".banner-swiper",{loop:!1,navigation:{nextEl:".banner-next",prevEl:".banner-prev"},slidesPerView:1,spaceBetween:0,breakpoints:{320:{slidesPerView:1},768:{slidesPerView:1}}}));document.querySelector("#bannerModal").addEventListener("show.bs.modal",function(e){console.log(e.relatedTarget);e=e.relatedTarget,e=$(e).data("index")||0;console.log("index",e),o.slideTo(e)});document.querySelector("#zoomModal").addEventListener("show.bs.modal",function(e){var t=e.relatedTarget;let n=$(t).data("img");$(t).parent().find(".floor-view-switch").prop("checked")&&(n=$(t).data("3d-img"));t=$(e.target).find("img");$(t).attr("src",n)});var e=document.querySelector("#detailContactPhoneNo"),e=(window.intlTelInput(e,{initialCountry:"lk",allowDropdown:!0}),document.querySelector("#requestCallPhone")),e=(window.intlTelInput(e,{initialCountry:"lk",allowDropdown:!0}),document.querySelector("#initPhoneNo")),e=(window.intlTelInput(e,{initialCountry:"lk",allowDropdown:!0}),document.querySelector("#contactNo")),e=(window.intlTelInput(e,{initialCountry:"lk",allowDropdown:!0}),document.querySelector("#inqContact")),r=(window.intlTelInput(e,{initialCountry:"lk",allowDropdown:!0}),new bootstrap.Modal(document.getElementById("DetailsPhoneNoModal"))),d=new bootstrap.Modal(document.getElementById("detailsPopup")),p=new bootstrap.Modal(document.getElementById("DetailsWhatsAppModal")),c=($("#btnShowPhone").on("click",function(){$("#detailsCallbackBtnClose").trigger("click"),setTimeout(()=>r.show(),0)}),$("#showSpecification").on("click",function(){$("#specContent").toggleClass("show-less")}),$("#showTeam").on("click",function(){$("#teamShowMoreContent").toggleClass("show-less")}),$("#showEnquireNum").on("click",function(){$(".phone-info").removeClass("hide"),$("#contactCard").removeClass("d-none"),$(this).hide()}),0);function w(e){var a=$(document).scrollTop();const i=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0),o=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0);$(window).scrollTop()+$(window).height()==$(document).height()&&($(".detailsMenuSwiper a:not(.swiper-slide-duplicate)").length,$(".detailsMenuSwiper a").each(function(e,t){$(t).removeClass("active")}),$(".detailsMenuSwiper a:last-child").addClass("active")),$(".detailsMenuSwiper a").each(function(){var e=$(this),t=$(e.attr("href")),n=t.height(),t=t.position().top;o,(t-=i/2)<=a&&a<t+n&&((t=e.attr("aria-label").trim().split("/")[0])!=s.activeIndex&&(s.slideTo(t-1),$("a").removeClass("active"),e.addClass("active")))}),0==a&&$(".detailsMenuSwiper a:first-child").addClass("active")}$(window).scroll(function(e){var t=$(this).scrollTop();c<t||null===localStorage.getItem("popupShowed")&&(d.show(),window.localStorage.setItem("popupShowed",!0)),c=t}),w(),$(document).on("scroll",w),$("#propertyValueSlider").slider({range:!1,min:1e6,max:1e8,step:5e5,slide:function(e,t){$("#propertyValue").val(t.value),v()}}),$("#propertyValue").on("change",function(){var e=$(this).val(),t=$("#propertyValueSlider").slider("value");1e6<=e&&e<=1e8?$("#propertyValueSlider").slider("value",e):$("#propertyValue").val(t),v()}),$("#downPaymentSlider").slider({range:!1,min:20,max:100,step:5,slide:function(e,t){$("#downPayPer").text(t.value);t=$("#propertyValue").val()/100*t.value;$("#downPayment").val(t),v()}}),$("#downPayment").on("change",function(){var e=$(this).val(),t=$("#propertyValue").val(),e=e/t*100,n=$("#downPaymentSlider").slider("value");20<=e&&e<=100?($("#downPaymentSlider").slider("value",e),$("#downPayPer").text(e)):(e=t/100*n,$("#downPayment").val(e),$("#downPayPer").text(n)),v()}),$("#interestRateSlider").slider({range:!1,min:5,max:30,step:.5,slide:function(e,t){$("#interestRate").val(t.value),v()}}),$("#interestRate").on("change",function(){var e=$(this).val(),t=$("#interestRateSlider").slider("value");5<=e&&e<=30?$("#interestRateSlider").slider("value",e):$("#interestRate").val(t),v()}),$("#loanPeriodSlider").slider({range:!1,min:1,max:30,step:1,slide:function(e,t){$("#loanPeriod").val(t.value),v()}}),$("#loanPeriod").on("change",function(){var e=$(this).val(),t=$("#loanPeriodSlider").slider("value");1<=e&&e<=30?$("#loanPeriodSlider").slider("value",e):$("#loanPeriod").val(t),v()}),e=$("#propertyValueSlider").slider("value"),m=$("#downPaymentSlider").slider("value"),u=$("#interestRateSlider").slider("value"),h=$("#loanPeriodSlider").slider("value"),m*=e/100,$("#propertyValue").val(e),$("#downPayment").val(m),$("#interestRate").val(u),$("#loanPeriod").val(h);var e=document.getElementById("loanChart").getContext("2d"),m=e.createLinearGradient(0,0,0,400),u=(m.addColorStop(0,"#B7D464"),m.addColorStop(1,"#009833"),{labels:["Loan amount ","Down Payment"],datasets:[{label:"My First Dataset",data:[300,200],backgroundColor:[m,"#E8E8E8"],hoverOffset:4}]});const g=new Chart(e,{type:"doughnut",data:u,options:{plugins:{htmlLegend:{containerID:"legendContainer"},legend:{display:!1}}}}),v=()=>{setTimeout(()=>{var e=$("#propertyValueSlider").slider("values",0),t=(console.log("propertyValue calc==>",e),$("#interestRateSlider").slider("values",0)),n=12*$("#loanPeriodSlider").slider("values",0),a=$("#downPaymentSlider").slider("values",0);if(console.log("downPaymentPersantage calc==>",a),e&&t&&n&&a){var i=t/100/12;const o=e/100*(100-a);var e=Math.ceil(o*(i*(1+i)**n/((1+i)**n-1))),a=Math.ceil(e*n),i=($("#monthlyPayment").text(l.format(e).replace("LKR","Rs")),$(".boldText").text(l.format(e).replace("LKR","Rs")),$("#LoanAmount").text(l.format(Math.ceil(o.toFixed(2))).replace("LKR","Rs")),$("#interestRateValue").text(t),$("#totalInterest").text(l.format(Math.ceil(a-o.toFixed(2))).replace("LKR","Rs")),$("#totalPayment").text(l.format(a).replace("LKR","Rs")),$("#downPayment").val());n=i,e=o,g.data.datasets[0].data[0]=e,g.data.datasets[0].data[1]=n,g.update()}},500)};v();var h=window["pdfjs-dist/build/pdf"],y=(h.GlobalWorkerOptions.workerSrc="//mozilla.github.io/pdf.js/build/pdf.worker.js",null),P=1,f=!1,V=null,S=1,b=document.getElementById("the-canvas"),k=(document.getElementById("broucher-pdf-container"),b.getContext("2d"));function C(e){f=!0,y.getPage(e).then(function(e){var t=e.getViewport({scale:S}),n=document.getElementById("broucher-pdf-container").offsetWidth;b.height=400,b.width=n-32,e.render({canvasContext:k,viewport:t}).promise.then(function(){f=!1,null!==V&&(C(V),V=null)})});var t=e/y.numPages*100+"%";$("#brochureProgressBar").width(t),$("#pageNumbers").html(e+" / "+y.numPages)}function x(e){f?V=e:C(e)}document.getElementById("brochurePrev").addEventListener("click",function(){P<=1||x(--P)}),document.getElementById("brochureNext").addEventListener("click",function(){P>=y.numPages||x(++P)}),h.getDocument("./assets/pdf/sample.pdf").promise.then(function(e){y=e,C(P)});$(".bottomFloat .openPopUP").on("click",function(){setTimeout(()=>r.show(),0)}),$(".bottomFloat .openPopWhatsApp").on("click",function(){setTimeout(()=>p.show(),0)})});let map,service,infowindow,sydney;function initMap(){sydney=new google.maps.LatLng(-33.867,151.195),infowindow=new google.maps.InfoWindow,map=new google.maps.Map(document.getElementById("map"),{center:sydney,zoom:15});var e={location:sydney,radius:"500",type:["bus_station"]};(service=new google.maps.places.PlacesService(map)).nearbySearch(e,callback)}function callback(e,t){if(t==google.maps.places.PlacesServiceStatus.OK)for(var n=0;n<e.length;n++)createMarker(e[n])}function changeMarkerPlaces(e){clearOverlays();e={location:sydney,radius:"500",type:[e]};(service=new google.maps.places.PlacesService(map)).nearbySearch(e,callback)}$(".mapview-swiper .swiper-slide").on("click",function(){changeMarkerPlaces($(this).data("place")),$(".mapview-swiper .swiper-slide").each(function(){$(this).removeClass("active")}),$(this).addClass("active")});let markers=[];function createMarker(e){var t;e.geometry&&e.geometry.location&&(console.log(e),t=()=>"bus_station"==e.types[0]?"assets/img/details/mapview/locationiconspin/Bus-stops-02.png":"bank"==e.types[0]?"assets/img/details/mapview/locationiconspin/Bank.png":"movie_theater"==e.types[0]?"assets/img/details/mapview/locationiconspin/Cinemas-02.png":e.types.includes("restaurant")?"assets/img/details/mapview/locationiconspin/Restaurant-02.png":"supermarket"==e.types[0]?"assets/img/details/mapview/locationiconspin/Shopping-02.png":"hospital"==e.types[0]?"assets/img/details/mapview/locationiconspin/Hospital-02.png":"shopping_mall"==e.types[0]?"assets/img/details/mapview/locationiconspin/Shopping-02.png":"park"==e.types[0]?"assets/img/details/mapview/locationiconspin/Parks-02.png":"gas_station"==e.types[0]?"assets/img/details/mapview/locationiconspin/Fuel-station-02.png":"police"==e.types[0]?"assets/img/details/mapview/locationiconspin/Police-station-03.png":"",console.log("get==>",t()),t=new google.maps.Marker({map:map,position:e.geometry.location,icon:t()}),markers.push(t),google.maps.event.addListener(t,"click",()=>{infowindow.setContent(e.name||""),infowindow.open(map)}))}function clearOverlays(){if(markers)for(i in markers)markers[i].setMap(null)}window.initMap=initMap;